"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.validateCookieOptions = validateCookieOptions;

var _undici = require("undici");

function validateCookieOptions( // eslint-disable-next-line @typescript-eslint/no-explicit-any
opts, resolver = require.resolve) {
  if (!('jar' in opts)) {
    throw new _undici.errors.InvalidArgumentError('invalid cookies.jar');
  }

  if (opts.async_UNSTABLE) {
    try {
      resolver('deasync');
    } catch (_err) {
      throw new _undici.errors.InformationalError('you should install deasync library when cookies.async_UNSTABLE is true.');
    }
  } else {
    if (!opts.jar.store.synchronous) {
      throw new _undici.errors.InvalidArgumentError('you should set cookies.async_UNSTABLE to true for using the asynchronous cookie store.');
    }
  }
}